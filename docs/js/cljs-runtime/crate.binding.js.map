{"version":3,"sources":["crate/binding.cljs"],"mappings":"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","names":["this__5330__auto__","writer__5331__auto__","opt__5332__auto__","cljs.core/-write","crate.binding/SubAtom","crate.binding/->SubAtom","atm","path","prevhash","watches","key","o","other","_","cljs.core/deref","cljs.core.get_in","this","writer","opts","cljs.core.pr_str","oldval","newval","seq__23924","cljs.core/seq","chunk__23925","count__23926","i__23927","vec__23941","cljs.core.nth","temp__5804__auto__","cljs.core/chunked-seq?","c__5568__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","vec__23944","cljs.core/first","cljs.core/next","f","cljs.core.assoc","cljs.core.dissoc","js/goog.getUid","crate.binding/subatom","vec__23951","cljs.core/coll?","cljs.core.concat","k","cljs.core.gensym","sa","cljs.core/hash","cljs.core/add-watch","ov","nv","latest","prev","latest-hash","cljs.core.not_EQ_","crate.binding/sub-reset!","new-value","cljs.core.swap_BANG_","cljs.core/assoc-in","var_args","G__23971","crate.binding/sub-swap!","args-arr__5794__auto__","len__5769__auto__","i__5770__auto__","argseq__5795__auto__","cljs.core/IndexedSeq","seq23965","G__23966","G__23967","G__23968","G__23969","G__23970","self__5754__auto__","G__23972","x","G__23973","G__23974","y","G__23975","G__23976","G__23977","z","G__23978","G__23979","G__23980","G__23981","more","cljs.core.apply","crate.binding/sub-destroy!","cljs.core/remove-watch","crate$binding$computable$_depend$dyn","x__5393__auto__","m__5394__auto__","crate.binding/-depend","goog/typeOf","m__5392__auto__","cljs.core/missing-protocol","crate$binding$computable$_compute$dyn","crate.binding/-compute","crate.binding/computable","cljs.core/PROTOCOL_SENTINEL","crate.binding/Computed","crate.binding/->Computed","atms","value","func","meta","seq__23982","chunk__23983","count__23984","i__23985","vec__23992","vec__23995","cljs.core.conj","old","cljs.core.map","crate.binding/computed","neue","seq__23998","chunk__23999","count__24000","i__24001","crate.binding/compute","compu","crate.binding/depend-on","crate.binding/notify","w","v","cljs.core/-notify-watches","crate.binding/bindable-coll","crate$binding$bindable$_value$dyn","crate.binding/-value","crate$binding$bindable$_on_change$dyn","crate.binding/-on-change","crate.binding/bindable","crate.binding/atom-binding","crate.binding/->atom-binding","value-func","G__24002","G__24003","crate.binding/notifier","crate.binding/->notifier","seq__24004","chunk__24005","count__24006","i__24007","vec__24014","vec__24017","crate.binding/bound-collection","crate.binding/->bound-collection","notif","stuff","cljs.core/vals","p__24020","vec__24021","event","el","crate.binding/opt","bc","fexpr__24024","crate.binding/bc-add","elem","fexpr__24025","crate.binding/bc-remove","fexpr__24026","crate.binding/->indexed","coll","cljs.core/map?","cljs.core/set?","cljs.core.juxt","cljs.core/identity","cljs.core.map_indexed","cljs.core/vector","crate.binding/->keyed","keyfn","cljs.core.into","args__5775__auto__","argseq__5776__auto__","crate.binding/->path","seq24027","G__24028","segs","or__5045__auto__","crate.binding/bc-compare","pset","cljs.core/keys","nset","added","cljs.core/sorted-set","clojure.set.difference","removed","seq__24029","chunk__24030","count__24031","i__24032","a","seq__24033","chunk__24034","count__24035","i__24036","r","crate.binding/bound-coll","p__24039","vec__24040","seq24037","G__24038","vec__24043","cljs.core/not","cljs.core.comp","cljs.core/second","cljs.core/sorted-map","crate.binding/map-bound","p__24049","vec__24050","seq24046","G__24047","G__24048","as","crate.binding/binding?","b","cljs.core/native-satisfies?","crate.binding/binding-coll?","crate.binding/deref?","cljs.core/IDeref","crate.binding/value","crate.binding/index","sub-atom","cljs.core/last","crate.binding/on-change","crate.binding/bound","p__24058","vec__24059","seq24056","G__24057"],"sourcesContent":["(ns crate.binding (:require [clojure.set :as set]))\n\n;;*********************************************************\n;; subatom\n;;*********************************************************\n\n(deftype SubAtom [atm path prevhash watches key]\n\n  IEquiv\n  (-equiv [o other] (identical? o other))\n\n  IDeref\n  (-deref [_] (when atm (get-in @atm path)))\n\n  IPrintWithWriter\n  (-pr-writer [this writer opts]\n    (-write writer (str \"#<SubAtom: \" (pr-str (get-in @atm path)) \">\")))\n\n  IWatchable\n  (-notify-watches [this oldval newval]\n    (doseq [[key f] watches]\n      (f key this oldval newval)))\n  (-add-watch [this key f]\n    (when f\n      (set! (.-watches this) (assoc watches key f))))\n  (-remove-watch [this key]\n    (set! (.-watches this) (dissoc watches key)))\n\n  IHash\n  (-hash [this] (goog.getUid this)))\n\n(defn subatom\n  ([atm path]\n   (let [path (if (coll? path)\n                path\n                [path])\n         [atm path] (if (instance? SubAtom atm)\n                      [(.-atm atm) (concat (.-path atm) path)]\n                      [atm path])\n         k (gensym \"subatom\")\n         sa (SubAtom. atm path (hash (get-in @atm path)) nil k)]\n     (add-watch atm k\n                (fn [_ _ ov nv]\n                  (let [latest (get-in nv path)\n                        prev (get-in ov path)\n                        latest-hash (hash latest)]\n                    (when (and (not= (.-prevhash sa) latest-hash)\n                               ;;TODO: How is it possible that the hashes are different\n                               ;;when the items are the same? This seems like a CLJS bug.\n                               (not= prev latest))\n                      (set! (.-prevhash sa) latest-hash)\n                      (-notify-watches sa (get-in ov path) latest)))))\n     sa)))\n\n(defn sub-reset!\n  \"Sets the value of atom to newval without regard for the\n  current value. Returns newval.\"\n  [sa new-value]\n  (swap! (.-atm sa) assoc-in (.-path sa) new-value)\n  new-value)\n\n(defn sub-swap!\n  \"Atomically swaps the value of atom to be:\n  (apply f current-value-of-atom args). Note that f may be called\n  multiple times, and thus should be free of side effects.  Returns\n  the value that was swapped in.\"\n  ([sa f]\n     (sub-reset! sa (f @sa)))\n  ([sa f x]\n     (sub-reset! sa (f @sa x)))\n  ([sa f x y]\n     (sub-reset! sa (f @sa x y)))\n  ([sa f x y z]\n     (sub-reset! sa (f @sa x y z)))\n  ([sa f x y z & more]\n     (sub-reset! sa (apply f @sa x y z more))))\n\n(defn sub-destroy! [sa]\n  (remove-watch (.-atm sa) (.-key sa))\n  (set! (.-watches sa) nil)\n  (set! (.-atm sa) nil))\n\n;;*********************************************************\n;; computed\n;;*********************************************************\n\n(defprotocol computable\n  (-depend [this atm] \"depend on an atom\")\n  (-compute [this] \"compute the latest value\"))\n\n(deftype Computed [atms value func watches key meta]\n\n  IEquiv\n  (-equiv [o other] (identical? o other))\n\n  IDeref\n  (-deref [_] value)\n\n  IPrintWithWriter\n  (-pr-writer [this writer opts]\n    (-write writer (str \"#<Computed: \" (pr-str value) \">\")))\n\n  IWatchable\n  (-notify-watches [this oldval newval]\n    (doseq [[key f] watches]\n      (f key this oldval newval)))\n  (-add-watch [this key f]\n    (when f\n      (set! (.-watches this) (assoc watches key f))))\n  (-remove-watch [this key]\n    (set! (.-watches this) (dissoc watches key)))\n\n  IHash\n  (-hash [this] (goog.getUid this))\n\n  IMeta\n  (-meta [this] meta)\n\n  computable\n  (-depend [this atm]\n           (set! (.-atms this) (conj (.-atms this) atm))\n           (add-watch atm key (fn [_ _ _ _]\n                                (-compute this))))\n  (-compute [this]\n            (let [old (.-value this)\n                  nv (apply func (map deref atms))]\n              (set! (.-value this) nv)\n              (-notify-watches this old nv)\n            )))\n\n(defn computed [atms func]\n   (let [k (gensym \"computed\")\n         neue (Computed. [] nil func nil k nil)]\n     (-compute neue)\n     (doseq [atm atms]\n       (-depend neue atm))\n     neue))\n\n(defn compute [compu]\n  (-compute compu))\n\n(defn depend-on [compu atm]\n  (-depend compu atm))\n\n;;*********************************************************\n;;rest\n;;*********************************************************\n\n(defn notify [w o v]\n  (-notify-watches w o v))\n\n(defprotocol bindable-coll)\n\n(defprotocol bindable\n  (-value [this] \"get the current value of this binding\")\n  (-on-change [this func] \"On change of this binding execute func\"))\n\n(deftype atom-binding [atm value-func]\n  bindable\n  (-value [this] (value-func @atm))\n  (-on-change [this func]\n    (add-watch atm (gensym \"atom-binding\") #(func (-value this)))))\n\n(deftype notifier [watches]\n  IWatchable\n  (-notify-watches [this oldval newval]\n    (doseq [[key f] watches]\n      (f key this oldval newval)))\n  (-add-watch [this key f]\n    (set! (.-watches this) (assoc watches key f)))\n  (-remove-watch [this key]\n    (set! (.-watches this) (dissoc watches key))))\n\n(deftype bound-collection [atm notif opts stuff]\n  bindable-coll\n  bindable\n  (-value [this] (map :elem (vals (.-stuff this))))\n  (-on-change [this func]\n    (add-watch notif\n               (gensym \"bound-coll\")\n               (fn [_ _ _ [event el v]]\n                 (func event el v)))))\n\n(defn opt [bc k]\n  ((.-opts bc) k))\n\n(defn- bc-add [bc path key]\n  (let [sa (subatom (.-atm bc) path)\n        elem ((opt bc :as) sa)]\n    (set! (.-stuff bc) (assoc (.-stuff bc) key {:elem elem\n                                                :subatom sa}))\n    (notify (.-notif bc) nil [:add elem @sa])))\n\n(defn- bc-remove [bc key]\n  (let [notif (.-notif bc)\n        prev  ((.-stuff bc) key)]\n    (set! (.-stuff bc) (dissoc (.-stuff bc) key))\n    (notify (.-notif bc) nil [:remove (:elem prev) nil])\n    (sub-destroy! (:subatom prev))))\n\n(defn ->indexed [coll]\n  (cond\n    (map? coll) (seq coll)\n    (set? coll) (map (juxt identity identity) coll)\n    :else (map-indexed vector coll)))\n\n(defn ->keyed [coll keyfn]\n  (into #{} (map keyfn (->indexed coll))))\n\n(defn ->path [bc & segs]\n  (concat (or (opt bc :path) []) segs))\n\n(defn- bc-compare [bc neue]\n  (let [prev (.-stuff bc)\n        pset (into #{} (keys prev))\n        nset (->keyed neue (opt bc :keyfn))\n        added (into (sorted-set) (set/difference nset pset))\n        removed (into (sorted-set) (set/difference pset nset))]\n    (doseq [a added]\n      (bc-add bc a a))\n    (doseq [r removed]\n      (bc-remove bc r))))\n\n(defn bound-coll [atm & [path opts]]\n  (let [[path opts] (if opts\n                      [path opts]\n                      [nil path])\n        atm (if-not path\n              atm\n              (subatom atm path))\n        opts (assoc opts :path path)\n        opts (if-not (:keyfn opts)\n               (assoc opts :keyfn first)\n               (assoc opts :keyfn (comp (:keyfn opts) second)))\n        bc (bound-collection. atm (notifier. nil) opts (sorted-map))]\n    (add-watch atm (gensym \"bound-coll\") (fn [_ _ _ neue]\n                                           (bc-compare bc neue)))\n    (bc-compare bc @atm)\n    bc))\n\n(defn map-bound [as atm & [opts]]\n  (let [opts (assoc opts :as as)\n        atm (if-not (:path opts)\n              atm\n              (subatom atm (:path opts)))\n        opts (if-not (:keyfn opts)\n               (assoc opts :keyfn first)\n               (assoc opts :keyfn (comp (:keyfn opts) second)))\n        bc (bound-collection. atm (notifier. nil) opts (sorted-map))]\n    (add-watch atm (gensym \"bound-coll\") (fn [_ _ _ neue]\n                                           (bc-compare bc neue)))\n    (bc-compare bc @atm)\n    bc))\n\n(defn binding? [b]\n  (satisfies? bindable b))\n\n(defn binding-coll? [b]\n  (satisfies? bindable-coll b))\n\n(defn deref? [atm]\n  (satisfies? IDeref atm))\n\n(defn value [b]\n  (-value b))\n\n(defn index [sub-atom]\n  (last (.-path sub-atom)))\n\n(defn on-change [b func]\n  (-on-change b func))\n\n(defn bound [atm & [func]]\n  (let [func (or func identity)]\n    (atom-binding. atm func)))\n"]}